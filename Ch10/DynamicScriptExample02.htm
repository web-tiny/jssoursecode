<!DOCTYPE html>
<html>
<head>
    <title>Dynamic Script Example 2</title>
</head>
<body>
    <p>You should see an alert saying &quot;hi&quot; after clicking the button.</p>
    <input type="button" value="Add Script" onclick="addScript()">

    <script type="text/javascript">
        /**
         * 动态加载javascript方式一：外引入url
         * */
        function loadScript(url){
            var script=document.createElement("script");
            script.type="text/javascript";
            script.src=url;
            document.body.appendChild(script);
        }

        /**
         * 动态加载javascript方式二（直接加载js代码）：
         * @param code
         */
        function loadScriptString(code){
            var script = document.createElement("script");
            script.type = "text/javascript";
            try {
                script.appendChild(document.createTextNode(code));
            } catch (ex){
                script.text = code;//兼容IE
            }
            document.body.appendChild(script);
        }
    
        function addScript(){
            loadScriptString("function sayHi(){alert('hi');}");
            sayHi();
        }

    </script>
</body>
</html>